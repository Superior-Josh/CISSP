## 11.1 OSI 模型
### 11.1.3 封装/解封

|OSI|TCP/IP|PDU(协议数据单元)|
|-|-|-|
|应用层|**应用层**|数据|
|表示层|**应用层**|数据|
|会话层|**应用层**|数据|
|传输层|传输层|段(TCP)/数据包(UDP)|
|网络层|互联网层|数据包|
|数据链路层|**链路层**|帧|
|物理层|**链路层**|比特|

### 11.1.4 OSI 模型层次

1. **应用层**：将用户应用程序、网络服务或操作系统与协议栈相连接
2. **表示层**：
    - 将数据转换为遵循 OSI 模型的任何系统都能理解的格式。将通用或标准化的格式规则强加在数据之上
    - 还负责加密和压缩
3. **会话层**：建立、维护和终止两台计算机之间的通信会话
    - 管理对话规则或对话控制(单工、半双工、全双工)
    - 建立分组和恢复的检查点，并重传自上次验证检查点以来失败或丢失的 PDU
4. **传输层**：管理连接的完整性并控制会话
    - 在节点之间建立通信连接并定义会话规则。
        - 会话规则指定每个段可包含多少数据，如何验证消息的完整性，以及如何确定数据是否丢失
        - 会话规则是通过握手过程建立的
    - 传输层在两个设备之间建立逻辑连接，并提供端到端传输服务以确保数据传输
        - 包括用于分段、排序、错误检查、控制数据流、纠错、多路复用和网络服务优化的机制
5. **网络层**：逻辑寻址和执行路由
6. **数据链路层**：将数据包格式化为传输格式
7. **物理层**：将帧转化为比特 

## 11.4 通用应用层协议

- **Telnet**：TCP 23 端口。不应使用，应该用 SSH 替代
- **FTP**：TCP 20 端口(活动数据连接)/短暂(被动数据连接)和 21 (控制连接)端口。不应使用，应该用 SFTP 或 FTPS 替代
- **TFTP**: UDP 69 端口，支持不需要身份认证的文件传输的网络应用程序。用于承载网络设备配置文件，并可支持多播。不应使用
- **SMTP**：TCP 25 端口，将电子邮件从客户端传输到电子邮件服务器以及从一个电子邮件服务器传输到另一个电子邮件服务器。仅在使用 TLS 加密创建 SMTPS 时使用
- **POP3**：TCP 110 端口。将电子邮件从电子邮件服务器上的收件箱中拉到电子邮件客户端的协议(即客户端存档)。仅在使用 TLS 加密创建 POPS 时使用
- **IMAP(IMAP4)**：TCP 143 端口。将电子邮件从电子邮件服务器上的收件箱中拉到电子邮件客户端的协议(即客户端存档)。能仅从电子邮件服务器中检索标头并直接从电子邮件服务器删除邮件(即服务器存档)。仅在使用 TLS 加密创建 IMAPS 时使用
- **DHCP**：UDP 67(服务器)端口和 68(客户端)端口。集中控制启动时为系统分配的 TCP/IP 配置设置
- **HTTP**：TCP 80 端口。用明文将 Web 页面元素从 Web 服务器传输到 Web 浏览器
- **HTTPS**：TCP 443 端口。
- **LPD**：TCP 515 端口。网络服务，用于家脱机打印作业以及将打印作业发送到打印机。应封闭在 VPN 中使用
- **X Window**：TCP 6000~6003 端口。用于命令行的 GUI API。应封闭在 VPN 中使用
- **NFS**：TCP 2049 端口。网络服务，用于支持不同系统之间的文件共享。应封闭在 VPN 中使用
- **SNMP**：UDP 161 端口(用于陷阱消息的是 UDP 162 端口)。网络服务，用于从中央监控服务器手机网络运行状况和状态信息。仅 SNMPv3 是安全的

## 11.5 传输层协议

- 端口 0~1023 被称为服务端口，保留供服务器独占使用
- 端口 1024~49151 被称为已注册的软件端口
- 端口 49152~65535 被称为随机、动态或临时端口

## 11.6 域名系统



### 11.6.1 DNS 中毒



### 11.6.2 域名劫持



## 11.7 互联网协议网络



## 11.8 ARP 关注点



## 11.9 安全通信协议



## 11.10 多层协议的含义



## 11.11 微分网段



## 11.12 无线网络



## 11.13 其他通信协议



## 11.14 蜂窝网络



## 11.15 内容分发网络



## 11.16 安全网络组件


